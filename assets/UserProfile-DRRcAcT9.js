import{_ as w}from"./PageContainer-k5T48xtl.js";import{r as m,u as U,o as x,c as y,b as l,d as e,f as I,bL as S,E as B}from"./index-I-0xOYD1.js";import{a as C,E as R}from"./el-col-CBb9C1ua.js";import{E as q,a as F}from"./el-form-item-B-XfGsdZ.js";import{E as N}from"./_plugin-vue_export-helper-CvRwkhOG.js";import{E as z}from"./el-input-9vvtsjwL.js";import"./el-message-PjPLGrUu.js";const G={__name:"UserProfile",setup(L){const s=m(),{user:{username:u,nickname:i,email:_,id:p},getUser:d}=U(),a=m({username:u,nickname:i,email:_,id:p}),c=async()=>{await s.value.validate()&&(await S(a.value),await d(),B.success("修改成功"))},f={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称必须是2-10位的非空字符串",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]};return(g,o)=>{const n=z,r=q,b=N,v=F,E=C,V=R,k=w;return x(),y(k,{title:"基本资料"},{default:l(()=>[e(V,null,{default:l(()=>[e(E,{span:12},{default:l(()=>[e(v,{model:a.value,rules:f,ref_key:"formRef",ref:s,"label-width":"100px",size:"large"},{default:l(()=>[e(r,{label:"登录名称"},{default:l(()=>[e(n,{modelValue:a.value.username,"onUpdate:modelValue":o[0]||(o[0]=t=>a.value.username=t),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:l(()=>[e(n,{modelValue:a.value.nickname,"onUpdate:modelValue":o[1]||(o[1]=t=>a.value.nickname=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:l(()=>[e(n,{modelValue:a.value.email,"onUpdate:modelValue":o[2]||(o[2]=t=>a.value.email=t)},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(b,{onClick:c,type:"primary"},{default:l(()=>[I("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}};export{G as default};
