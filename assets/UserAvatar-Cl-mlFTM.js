import{_ as k}from"./PageContainer-k5T48xtl.js";import{u as E,r as _,o as r,c as h,b as a,d as o,z as u,e as i,f as d,bM as y,E as S,aS as b,bN as R,p as x,k as A,g as B}from"./index-I-0xOYD1.js";import{a as C,E as N}from"./el-col-CBb9C1ua.js";import{_ as I,E as z}from"./_plugin-vue_export-helper-CvRwkhOG.js";import{E as V}from"./el-progress-DAaTcnOE.js";import"./el-message-PjPLGrUu.js";import"./isEqual-B4OY1jUf.js";const F=""+new URL("avatar-CQlNaQTu.jpg",import.meta.url).href,L=t=>(x("data-v-be054930"),t=t(),A(),t),M=["src"],Q={key:1,src:F,width:"278"},T=L(()=>B("br",null,null,-1)),$={__name:"UserAvatar",setup(t){const l=E(),c=_(),s=_(l.user.user_pic),m=n=>{const e=new FileReader;e.readAsDataURL(n.raw),e.onload=()=>{s.value=e.result}},f=async()=>{await y(s.value),await l.getUser(),S({type:"success",message:"更换头像成功"})};return(n,e)=>{const v=V,p=z,g=C,w=N,U=k;return r(),h(U,{title:"更换头像"},{default:a(()=>[o(w,null,{default:a(()=>[o(g,{span:12},{default:a(()=>[o(v,{ref_key:"uploadRef",ref:c,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":m},{default:a(()=>[s.value?(r(),u("img",{key:0,src:s.value,class:"avatar"},null,8,M)):(r(),u("img",Q))]),_:1},512),T,o(p,{onClick:e[0]||(e[0]=j=>c.value.$el.querySelector("input").click()),type:"primary",icon:i(b),size:"large"},{default:a(()=>[d(" 选择图片 ")]),_:1},8,["icon"]),o(p,{onClick:f,type:"success",icon:i(R),size:"large"},{default:a(()=>[d(" 上传头像 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},P=I($,[["__scopeId","data-v-be054930"]]);export{P as default};
